<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:sec="http://safr.sourceforge.net/schema/core"
    xsi:schemaLocation="
http://www.springframework.org/schema/beans 
http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
http://safr.sourceforge.net/schema/core 
http://safr.sourceforge.net/schema/core/spring-safr-core-1.0.xsd">

    <!-- ================================================================ -->
    <!-- SAF Core                                                         -->
    <!-- ================================================================ -->

    <sec:annotation-driven access-manager="accessManager" />

    <!-- ================================================================ -->
    <!-- SAF JAAS                                                         -->
    <!-- ================================================================ -->

    <bean id="instancePolicy" name="permissionManager" init-method="initialize"
        class="net.sourceforge.safr.jaas.policy.InstancePolicy">
        <property name="permissionSource" ref="permissionSource" />
    </bean>

    <!-- ================================================================ -->
    <!-- Access Manager                                                   -->
    <!-- ================================================================ -->

    <bean id="accessManager"
        class="net.sourceforge.safr.sample.provider.SampleAccessManager">
        <property name="permissionManager" ref="permissionManager" />
    </bean>

    <!-- ================================================================ -->
    <!-- Sample Services                                                  -->
    <!-- ================================================================ -->

    <bean id="notebookService" init-method="bootstrap"
        class="net.sourceforge.safr.sample.notebook.service.NotebookServiceImpl">
        <property name="userService" ref="userService"/>
    </bean>
    <bean id="userService" name="authenticationService" init-method="bootstrap"
        class="net.sourceforge.safr.sample.usermgnt.service.UserServiceImpl">
    </bean>
    <bean id="permissionService" name="permissionSource"
        class="net.sourceforge.safr.sample.permission.service.PermissionServiceImpl">
        <property name="permissionManager" ref="permissionManager" />
    </bean>

</beans>